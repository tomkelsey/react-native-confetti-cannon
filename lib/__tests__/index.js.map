{"version":3,"sources":["../../src/__tests__/index.js"],"names":["describe","beforeEach","jest","useFakeTimers","Platform","OS","it","handleAnimationStart","fn","handleAnimationResume","handleAnimationStop","handleAnimationEnd","renderer","create","x","y","runOnlyPendingTimers","expect","toHaveBeenCalledTimes","advanceTimersByTime","DEFAULT_EXPLOSION_SPEED","DEFAULT_FALL_SPEED","explosionSpeed","fallSpeed","autoStartDelay","ref","mock","calls","confettiCannon","start","stop","resume","origin","count1","count2","count3","component","confettis1","root","findAll","el","props","testID","match","colors1","map","confetti","color","length","toEqual","update","confettis2","colors2","slice","confettis3","colors3","count","color1","color2","find","transform","arrayContaining","perspective","confettiAnimatedView","findByType","Animated","View","renderToHardwareTextureAndroid","toJSON","toBeNull","items","itemsAfterStrop"],"mappings":"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","sourcesContent":["// @flow\n\nimport * as React from 'react';\nimport { Animated, Platform } from 'react-native';\nimport renderer from 'react-test-renderer';\n\nimport ConfettiCannon, {DEFAULT_EXPLOSION_SPEED, DEFAULT_FALL_SPEED} from '..';\n\ndescribe('index', () => {\n  beforeEach(() => {\n    jest.useFakeTimers();\n    Platform.OS = 'ios';\n  });\n\n  it('should trigger animations callbacks', () => {\n    const handleAnimationStart = jest.fn();\n    const handleAnimationResume = jest.fn();\n    const handleAnimationStop = jest.fn();\n    const handleAnimationEnd = jest.fn();\n\n    renderer.create(\n      <ConfettiCannon\n        count={10}\n        origin={{x: -10, y: 0}}\n        onAnimationStart={handleAnimationStart}\n        onAnimationResume={handleAnimationResume}\n        onAnimationStop={handleAnimationStop}\n        onAnimationEnd={handleAnimationEnd}\n      />\n    );\n\n    jest.runOnlyPendingTimers();\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(1);\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(0);\n\n    jest.advanceTimersByTime(DEFAULT_EXPLOSION_SPEED + DEFAULT_FALL_SPEED);\n\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(1);\n    expect(handleAnimationResume).toHaveBeenCalledTimes(0);\n    expect(handleAnimationStop).toHaveBeenCalledTimes(0);\n  });\n\n  it('should be able to customize speeds', () => {\n    const handleAnimationStart = jest.fn();\n    const handleAnimationEnd = jest.fn();\n    const explosionSpeed = 35;\n    const fallSpeed = 300;\n\n    renderer.create(\n      <ConfettiCannon\n        count={10}\n        origin={{x: -10, y: 0}}\n        explosionSpeed={explosionSpeed}\n        fallSpeed={fallSpeed}\n        fadeOut={true}\n        onAnimationStart={handleAnimationStart}\n        onAnimationEnd={handleAnimationEnd}\n      />\n    );\n\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(0);\n\n    jest.advanceTimersByTime(explosionSpeed + fallSpeed);\n\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(1);\n  });\n\n  it('should not start if autoStart is disabled', () => {\n    const handleAnimationStart = jest.fn();\n\n    renderer.create(\n      <ConfettiCannon\n        count={10}\n        origin={{x: -10, y: 0}}\n        autoStart={false}\n        onAnimationStart={handleAnimationStart}\n      />\n    );\n\n    jest.advanceTimersByTime(DEFAULT_EXPLOSION_SPEED + DEFAULT_FALL_SPEED);\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(0);\n  });\n\n  it('should start after delay', () => {\n    const autoStartDelay = 100;\n    const handleAnimationStart = jest.fn();\n\n    renderer.create(\n      <ConfettiCannon\n        count={10}\n        origin={{x: -10, y: 0}}\n        autoStartDelay={autoStartDelay}\n        onAnimationStart={handleAnimationStart}\n      />\n    );\n\n    jest.advanceTimersByTime(autoStartDelay - 1);\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(0);\n\n    jest.advanceTimersByTime(1);\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(1);\n  });\n\n  it('should be able to start animation programmatically', () => {\n    const handleAnimationStart = jest.fn();\n    const handleAnimationResume = jest.fn();\n    const handleAnimationStop = jest.fn();\n    const handleAnimationEnd = jest.fn();\n    const ref = jest.fn<[ConfettiCannon | null], void>();\n\n    renderer.create(\n      <ConfettiCannon\n        count={10}\n        origin={{x: -10, y: 0}}\n        autoStart={false}\n        onAnimationStart={handleAnimationStart}\n        onAnimationResume={handleAnimationResume}\n        onAnimationStop={handleAnimationStop}\n        onAnimationEnd={handleAnimationEnd}\n        ref={ref}\n      />\n    );\n\n    const [confettiCannon] = ref.mock.calls[0];\n\n    confettiCannon && confettiCannon.start();\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(1);\n    expect(handleAnimationResume).toHaveBeenCalledTimes(0);\n    expect(handleAnimationStop).toHaveBeenCalledTimes(0);\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(0);\n\n    confettiCannon && confettiCannon.stop();\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(1);\n    expect(handleAnimationResume).toHaveBeenCalledTimes(0);\n    expect(handleAnimationStop).toHaveBeenCalledTimes(1);\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(0);\n\n    confettiCannon && confettiCannon.resume();\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(1);\n    expect(handleAnimationResume).toHaveBeenCalledTimes(1);\n    expect(handleAnimationStop).toHaveBeenCalledTimes(1);\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(0);\n\n    jest.advanceTimersByTime(DEFAULT_EXPLOSION_SPEED + DEFAULT_FALL_SPEED);\n\n    expect(handleAnimationStart).toHaveBeenCalledTimes(1);\n    expect(handleAnimationResume).toHaveBeenCalledTimes(1);\n    expect(handleAnimationStop).toHaveBeenCalledTimes(1);\n    expect(handleAnimationEnd).toHaveBeenCalledTimes(1);\n  });\n\n  it('should re-render items without changing colors already set', () => {\n    const origin = {x: -10, y: 0};\n    const count1 = 10;\n    const count2 = 20;\n    const count3 = 5;\n\n    const component = renderer.create(\n      <ConfettiCannon count={count1} origin={origin} />\n    );\n\n    const confettis1 = component.root.findAll(el => el.props.testID && el.props.testID.match(/confetti/g));\n    const colors1 = confettis1.map(confetti => confetti.props.color);\n\n    expect(confettis1.length).toEqual(count1);\n\n    component.update(\n      <ConfettiCannon count={count2} origin={origin} />\n    );\n\n    const confettis2 = component.root.findAll(el => el.props.testID && el.props.testID.match(/confetti/g));\n    const colors2 = confettis2.map(confetti => confetti.props.color);\n\n    expect(confettis2.length).toEqual(count2);\n    expect(colors1).toEqual(colors2.slice(0, count1));\n\n    component.update(\n      <ConfettiCannon count={count3} origin={origin} />\n    );\n\n    const confettis3 = component.root.findAll(el => el.props.testID && el.props.testID.match(/confetti/g));\n    const colors3 = confettis3.map(confetti => confetti.props.color);\n\n    expect(confettis3.length).toEqual(count3);\n    expect(colors1.slice(0, count3)).toEqual(colors3.slice(0, count3));\n  });\n\n  it('should re-render items colors if colors prop changes', () => {\n    const origin = {x: -10, y: 0};\n    const count = 1;\n    const color1 = '#000';\n    const color2 = '#fff';\n\n    const component = renderer.create(\n      <ConfettiCannon count={count} origin={origin} colors={[color1]} />\n    );\n\n    const confetti = component.root.find(el => el.props.testID === 'confetti-1');\n\n    expect(confetti.props.color).toEqual(color1);\n\n    component.update(\n      <ConfettiCannon count={count} origin={origin} colors={[color2]} />\n    );\n\n    expect(confetti.props.color).toEqual(color2);\n  });\n\n  it('should not change items if colors or count dont change', () => {\n    const origin = {x: -10, y: 0};\n    const count = 1000;\n\n    const component = renderer.create(\n      <ConfettiCannon count={count} origin={origin} />\n    );\n\n    const confettis1 = component.root.findAll(el => el.props.testID && el.props.testID.match(/confetti/g));\n\n    component.update(\n      <ConfettiCannon count={count} origin={origin} fadeOut={true} />\n    );\n\n    const confettis2 = component.root.findAll(el => el.props.testID && el.props.testID.match(/confetti/g));\n\n    expect(confettis1).toEqual(confettis2);\n  });\n\n  it('should include the perspective transform on the Android platform', () => {\n    Platform.OS = 'android';\n\n    const origin = {x: -10, y: 0};\n    const count = 1000;\n\n    const component = renderer.create(\n      <ConfettiCannon count={count} origin={origin} />\n    );\n    const confetti = component.root.find(el => el.props.testID === 'confetti-1');\n\n    expect(confetti.props.transform).toEqual(expect.arrayContaining([{ perspective: 100 }]));\n  });\n\n  it('should set \"renderToHardwareTextureAndroid\" prop to true for confetti animated view', () => {\n    const origin = {x: -10, y: 0};\n    const count = 1000;\n\n    const component = renderer.create(\n      <ConfettiCannon count={count} origin={origin} />\n    );\n    \n    const confettiAnimatedView = component.root\n        .find(el => el.props.testID === 'confetti-1')\n        .findByType(Animated.View);\n\n    expect(confettiAnimatedView.props.renderToHardwareTextureAndroid).toEqual(true);\n  });\n\n  it('should not render children if autoStart is disabled', () => {\n    const origin = {x: -10, y: 0};\n    const count = 10;\n\n    const component = renderer.create(\n      <ConfettiCannon count={count} origin={origin} autoStart={false} />\n    );\n    expect(component.toJSON()).toBeNull();\n  });\n\n  it('should render children when started programatically and unmount after animation', ()=>{\n    const ref = jest.fn<[ConfettiCannon | null], void>();\n    const count = 10\n    const component = renderer.create(\n      <ConfettiCannon\n        count={count}\n        origin={{x: -10, y: 0}}\n        autoStart={false}\n        ref={ref}\n      />\n    );\n\n    const [confettiCannon] = ref.mock.calls[0];\n\n    confettiCannon && confettiCannon.start();\n    const items = component.root.findAll(el => el.props.testID && el.props.testID.match(/confetti/g));\n    expect(items.length).toEqual(count);\n    \n    confettiCannon && confettiCannon.stop();\n    \n    const itemsAfterStrop = component.root.findAll(el => el.props.testID && el.props.testID.match(/confetti/g));\n    expect(itemsAfterStrop.length).toEqual(count);\n\n    confettiCannon && confettiCannon.resume();\n    \n    jest.advanceTimersByTime(DEFAULT_EXPLOSION_SPEED + DEFAULT_FALL_SPEED);\n    \n    expect(component.toJSON()).toBeNull();\n  })\n\n});\n"],"file":"index.js"}